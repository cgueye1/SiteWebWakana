<script src="script.js" defer></script>

<section class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center text-[#0190BD] mb-8" >Nos Solutions </h2>

    <div class="mb-16">


      <div class="relative overflow-hidden pb-10">
        <div class="flex transition-transform duration-500 ease-in-out"
             [ngStyle]="{'transform': 'translateX(-' + (currentIndex * (100 / visibleCards)) + '%)', 'width': (solutionsData.length * (100 / visibleCards)) + '%'}">
          @for (solution of solutionsData; track solution.id) {
            <div class="px-3" [ngStyle]="{'width': (100 / visibleCards) + '%'}">
              <div class="bg-white rounded-xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl hover:-translate-y-2 h-full flex flex-col">
                <!-- Image avec overlay au survol -->
                <div class="relative overflow-hidden">
                  <img [src]="solution.imageUrl" [alt]="solution.title" class="w-full h-64 object-cover transition-transform duration-500 hover:scale-105">
                  <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end">
                    <span class="text-white font-medium p-4">En savoir plus</span>
                  </div>
                </div>

                <!-- Contenu de la carte -->
                <div class="p-6 flex-grow flex flex-col">
                  <h4 class="text-xl font-medium text-gray-900 mb-4 border-b border-gray-200 pb-2">{{ solution.title }}</h4>
                  <p class="text-gray-600 leading-relaxed flex-grow">{{ solution.description }}</p>
                  <div class="mt-6 pt-4 border-t border-gray-100">
                    <button class="text-blue-500 font-medium hover:text-blue-700 transition-colors flex items-center">
                      Découvrir
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          }
        </div>

        <!-- Flèches de navigation sur les côtés -->
        <button (click)="prevSlide()" class="absolute left-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-blue-500 p-3 rounded-r-lg shadow-md z-10 focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>
        <button (click)="nextSlide()" class="absolute right-0 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-blue-500 p-3 rounded-l-lg shadow-md z-10 focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>

      <div class="flex justify-center space-x-3 mt-6">
        @for (solution of solutionsData; track $index) {
          @if ($index <= (solutionsData.length - visibleCards)) {
            <button
              class="w-3 h-3 rounded-full transition-colors duration-200 focus:outline-none"
              [ngClass]="currentIndex === $index ? 'bg-blue-500' : 'bg-gray-300 hover:bg-gray-400'"
              (click)="navigateToSolution($index)">
            </button>
          }
        }
      </div>
    </div>
  </div>
</section>
